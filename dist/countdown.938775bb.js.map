{"version":3,"sources":["ts/fetchData.ts","ts/currentSiteLocation.ts","ts/countdown.ts"],"names":[],"mappings":";AASC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,IAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,IAAA,IAAA,EAAA,UAAA,SAAA,EAAA,GAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,KAAA,IAAA,MAAA,GAAA,EAAA,IAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,IAAA,MAAA,GAAA,EAAA,IAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,KAAA,EAAA,EAAA,QAAA,EAAA,EAAA,MAAA,aAAA,EAAA,EAAA,IAAA,EAAA,SAAA,GAAA,EAAA,MAAA,KAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,EAAA,GAAA,KAAA,WATK,SAAgB,EAAU,EAAa,GAS5C,OAAA,EAAA,UAAA,OAAA,EAAA,YARK,IAAA,QAAiB,MAAM,GACvB,GAAC,EAAS,GAEP,CACC,MAAA,QAAa,EAAS,OAErB,OADP,eAAe,QAAQ,EAAK,KAAK,UAAU,IACpC,EAJD,MAAA,IAAI,6BAA6B,EAAS;;ACgBnD,aAnBK,SAAU,EACd,GAEM,MAAA,EAAsB,EAAK,YAAY,QACE,SAAS,iBACtD,SAGG,QAAS,IACR,GAAA,EAAS,cAAe,CACpB,MAAA,EAAQ,EAAS,cAAc,uBAEjC,IAAwB,EAAS,IAC/B,GACF,EAAM,SAAS,GAAG,UAAU,IAAI,sBAKzC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA;;ACfM,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EAJP,IAAA,EAAA,QAAA,eACA,EAAA,QAAA,yBAGO,MAAM,EAAiB,CAAC,EAAa,KAEpC,MAAA,EAAgD,IAC9C,MAAA,EAAgB,EAAS,iBACzB,EAAM,SAAS,iBACnB,SAEI,EAAM,SAAS,iBACnB,UAEI,EAAU,SAAS,iBACvB,QAEI,EAAU,SAAS,iBACvB,QAEI,EAAkB,SAAS,cAC/B,oBAGF,YAAY,KACJ,MAAA,GAAQ,IAAI,MAAO,UAErB,GAAA,EAAgB,EAAO,CACnB,MAAA,EAAgB,EAAgB,EAElC,IAAA,EAAM,KAAK,MAAM,EAAgB,KACjC,EAAM,KAAK,MAAM,EAAM,IACvB,EAAQ,KAAK,MAAM,EAAM,IACzB,EAAO,KAAK,MAAM,EAAQ,IAE9B,GAAS,GACT,GAAO,GACP,GAAO,GAEP,EAAI,QAAS,GAAQ,EAAG,aAAe,KACvC,EAAI,QACD,GAAQ,EAAG,aAAe,EAAQ,GAAK,IAAM,MAAM,KAEtD,EAAQ,QACL,GAAQ,EAAG,aAAe,EAAM,GAAK,IAAM,MAAM,KAEpD,EAAQ,QACL,GAAQ,EAAG,aAAe,EAAM,GAAK,IAAM,MAAM,UAGpD,EAAI,QAAS,GAAQ,EAAG,YAAc,MACtC,EAAI,QAAS,GAAQ,EAAG,YAAc,MACtC,EAAQ,QAAS,GAAQ,EAAG,YAAc,MAC1C,EAAQ,QAAS,GAAQ,EAAG,YAAc,MAC1C,EAAgB,YAAc,oBAE/B,MAEC,EAAQ,eAAe,QAAQ,GAChC,GAQH,EAAe,KAAK,MAAM,KACN,EAAA,EAAA,qBAAA,KAAK,MAAM,MARrB,EAAA,EAAA,WAAA,EAAK,GACZ,KAAM,IACL,EAAe,IACK,EAAA,EAAA,qBAAA,KAErB,MAAO,GAAM,QAAQ,IAAI,KA7DzB,QAAA,eAAA","file":"countdown.938775bb.js","sourceRoot":"../src","sourcesContent":["export async function fetchData(key: string, url: string): Promise<object[]> {\n  let response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  } else {\n    const data = await response.json();\n    sessionStorage.setItem(key, JSON.stringify(data));\n    return data;\n  }\n}\n","export function currentSiteLocation<T extends IObjectFromApiCall>(\n  data: T\n): void {\n  const siteLocationFromApi = data.launch_site.site_id;\n  const area: NodeListOf<HTMLParagraphElement> = document.querySelectorAll(\n    '.area'\n  );\n\n  area.forEach((location) => {\n    if (location.parentElement) {\n      const title = location.parentElement.previousElementSibling;\n\n      if (siteLocationFromApi === location.id) {\n        if (title) {\n          title.children[0].classList.add('active-location');\n        }\n      }\n    }\n  });\n}\n","import { fetchData } from './fetchData';\nimport { currentSiteLocation } from './currentSiteLocation';\n\n// Writes to the DOM\nexport const countDownTimer = (key: string, url: string) => {\n  // Typescript generic type\n  const updateEverySec = <T extends IObjectFromApiCall>(nextDate: T): void => {\n    const countDownDate = nextDate.launch_date_unix;\n    const day = document.querySelectorAll(\n      '.days'\n    ) as NodeListOf<HTMLSpanElement>;\n    const hrs = document.querySelectorAll(\n      '.hours'\n    ) as NodeListOf<HTMLSpanElement>;\n    const minutes = document.querySelectorAll(\n      '.min'\n    ) as NodeListOf<HTMLSpanElement>;\n    const seconds = document.querySelectorAll(\n      '.sec'\n    ) as NodeListOf<HTMLSpanElement>;\n    const nextLanunchText = document.querySelector(\n      '.inner-counter p'\n    ) as HTMLParagraphElement;\n\n    setInterval(() => {\n      const today = new Date().getTime();\n\n      if (countDownDate > today) {\n        const timeRemaining = countDownDate - today;\n\n        let sec = Math.floor(timeRemaining / 1000);\n        let min = Math.floor(sec / 60);\n        let hours = Math.floor(min / 60);\n        let days = Math.floor(hours / 24);\n\n        hours %= 24;\n        min %= 60;\n        sec %= 60;\n\n        day.forEach((el) => (el.innerHTML = `${days}`));\n        hrs.forEach(\n          (el) => (el.innerHTML = `${hours < 10 ? '0' : ''} ${hours}`)\n        );\n        minutes.forEach(\n          (el) => (el.innerHTML = `${min < 10 ? '0' : ''} ${min}`)\n        );\n        seconds.forEach(\n          (el) => (el.innerHTML = `${sec < 10 ? '0' : ''} ${sec}`)\n        );\n      } else {\n        day.forEach((el) => (el.textContent = '00'));\n        hrs.forEach((el) => (el.textContent = '00'));\n        minutes.forEach((el) => (el.textContent = '00'));\n        seconds.forEach((el) => (el.textContent = '00'));\n        nextLanunchText.textContent = 'Launch has ended';\n      }\n    }, 1000);\n  };\n  const timer = sessionStorage.getItem(key);\n  if (!timer) {\n    fetchData(key, url)\n      .then((data) => {\n        updateEverySec(data);\n        currentSiteLocation(data);\n      })\n      .catch((e) => console.log(e));\n  } else {\n    updateEverySec(JSON.parse(timer));\n    currentSiteLocation(JSON.parse(timer));\n  }\n};\n"]}